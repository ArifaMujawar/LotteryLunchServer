{"version":3,"sources":["components/Login.js","components/header.js","components/Functionality.js","components/Display.js","components/SearchedItem.js","Main.js","App.js","index.js"],"names":["Login","props","useState","userName","setUserName","password","setPassword","usersJson","description","users","testUser","type","onFormSubmit","e","preventDefault","Object","keys","filter","length","window","localStorage","setItem","JSON","stringify","console","log","value","auth","setAuth","handleAuth","alert","className","size","onSubmit","label","icon","group","validate","error","success","getValue","onClick","Header","Functionality","generateLottery","sendEmails","color","handleSearchByName","onChange","target","setInterest","handleAddNewInterest","setSearchName","Display","emails","map","i","email","SearchedItem","searchName","confirm","deleteByName","Main","setEmails","interest","a","axios","get","response","data","method","url","header","params","searchterm","rowCount","post","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.13edce21.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { MDBInput, MDBBtn, MDBCol } from \"mdbreact\";\nimport { BrowserRouter as Router, withRouter } from \"react-router-dom\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport \"../App.css\";\n\nconst Login = (props) => {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const usersJson = {\n    description: \"Login and passwords of users\",\n    users: {\n      testUser: {\n        password: \"test\",\n        type: \"test\",\n      },\n    },\n  };\n  const handleAuth = () => {\n    const value = props.auth;\n    props.setAuth(!value);\n    console.log(\"value \", value);\n  };\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    //const { usersJson, userName, password } = this.state;\n    const filterUserName = Object.keys(usersJson.users).filter((e) => {\n      // console.log('e value', e);\n      return e === userName;\n    });\n    if (\n      filterUserName.length > 0 &&\n      usersJson.users[userName].password === password\n    ) {\n      //props.history.push(\"test\");\n      window.localStorage.setItem(\n        \"user\",\n        JSON.stringify(usersJson.users[userName])\n      );\n      console.log(\"Logged in\");\n      handleAuth();\n      \n    } else {\n      alert(\"Wrong login or password\");\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <Router>\n        <MDBCol size=\"3\">\n          <form onSubmit={onFormSubmit}>\n            <p className=\"h5 text-center mb-4\">Sign in</p>\n            <div className=\"grey-text\">\n              <MDBInput\n                label=\"Type your email\"\n                icon=\"envelope\"\n                group\n                type=\"text\"\n                validate\n                error=\"wrong\"\n                success=\"right\"\n                getValue={(value) => setUserName(value)}\n              />\n              <MDBInput\n                label=\"Type your password\"\n                icon=\"lock\"\n                group\n                type=\"password\"\n                validate\n                getValue={(value) => setPassword(value)}\n              />\n            </div>\n            <div className=\"text-center\">\n              <MDBBtn type=\"submit\" onClick={onFormSubmit}>\n                Login\n              </MDBBtn>\n            </div>\n          </form>\n        </MDBCol>\n      </Router>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <div>\n      <h1>Lottery Lunch</h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { MDBBtn,MDBInput } from \"mdbreact\";\n\nconst Functionality = (props) => {\n \n  return (\n    <div className=\"Functionality\">\n      <MDBBtn onClick={() => props.generateLottery()}>Generate lottery</MDBBtn>\n      <MDBBtn onClick={() => props.sendEmails()} color=\"warning\">\n        Send Emails\n      </MDBBtn>\n      \n      <MDBBtn onClick={() => props.handleSearchByName()} color=\"info\">\n        Search user\n      </MDBBtn>\n      <MDBInput label=\"Add new Interest...\" onChange={({target})=>props.setInterest(target.value)} />\n      <MDBBtn onClick={() => props.handleAddNewInterest()} color=\"pink\">\n        Add new Interest\n      </MDBBtn>\n      <MDBInput label=\"Search by name...\" onChange={({target})=>props.setSearchName(target.value)} />\n    </div>\n  );\n};\n\nexport default Functionality;\n","import React from 'react';\n\nconst Display = ({emails}) => {\n    return (\n        <div> \n            <h3>Generated emails are</h3>\n         {emails.map((i)=><div className='emailsContainer'>{i.map(email => <p className='email'>{email}</p>)}</div>)}\n        </div>\n    )\n}\nexport default Display;\n","import React from \"react\";\nimport { MDBBtn, MDBInput } from \"mdbreact\";\n\nconst SearchedItem = (props) => {\n  const handleDeleteUser = () => {\n    let ans = window.confirm(\n      `Are you sure, you want to remove ${props.searchName}?`\n    );\n    if (ans == true) {\n      props.deleteByName();\n    }\n  };\n  return (\n    <div>\n      <h3>Searched email </h3>\n      {props.searchName &&\n      <MDBBtn onClick={() => handleDeleteUser()} color=\"danger\">\n        Delete User\n      </MDBBtn>}\n    </div>\n  );\n};\nexport default SearchedItem;\n","import React, { useState } from \"react\";\nimport Header from \"./components/header\";\nimport Functionality from \"./components/Functionality\";\nimport Display from \"./components/Display\";\nimport axios from \"axios\";\nimport SearchedItem from \"./components/SearchedItem\";\n\nconst baseUrl = \"/api\";\n\nconst Main = () => {\n  const [emails, setEmails] = useState([]);\n  const [searchName, setSearchName] = useState(\"\");\n  const [interest, setInterest] = useState(\"\");\n\n  const generateLottery = async () => {\n    console.log(\"button clicked\");\n    const response = await axios.get(`${baseUrl}/lunch-pairs`);\n    console.log(\"response from generate lottery \", response);\n    setEmails(response.data);\n  };\n\n  const sendEmails = async () => {\n    console.log(\"sendEmails button clicked\");\n  };\n\n  const handleSearchByName = async () => {\n    console.log(\"search button pressed\");\n    const response = await axios({\n      method: \"get\",\n      url: `${baseUrl}/users/:${searchName}`,\n      header: {},\n      params: {\n        searchterm: `first_name`,\n        value: `${searchName}`,\n      },\n    });\n\n    console.log(\"response from search \", response);\n  };\n\n  const deleteByName = async () => {\n    console.log(\"delete btn pressed\");\n    const response = await axios({\n      method: \"delete\",\n      url: `${baseUrl}/users/:${searchName}`,\n      header: {},\n      data: {\n        email: `${searchName}`,\n      },\n    });\n    console.log(\"res is \", response);\n    if (response.data.rowCount > 0) {\n      alert(`${searchName} removed from database!`);\n    } else {\n      alert(`${searchName} does not exist!`);\n    }\n    setSearchName('');\n  };\n\n  const handleAddNewInterest = async () => {\n    console.log(\"new interest btn pressed\");\n    if (interest.length > 0) {\n      const data ={\n        interest: `${interest}`\n      }\n      const response = await axios.post(`${baseUrl}/interests/`,data);\n      console.log(\"res is \", response);\n      if (response.data.rowCount > 0) {\n        alert(`${interest} added to database!`);\n      } else {\n        alert(`${interest} not added!`);\n      }\n    }else{\n      alert(`Cannot insert null interest. Please insert proper interest.`);\n    }\n  };\n\n  return (\n    <div className='Main-page'>\n      <Header />\n      <Functionality\n        generateLottery={generateLottery}\n        sendEmails={sendEmails}\n        setSearchName={setSearchName}\n        handleSearchByName={handleSearchByName}\n        setInterest={setInterest}\n        handleAddNewInterest={handleAddNewInterest}\n      />\n      {emails.length > 0 && <Display emails={emails} />}\n      {searchName && (\n        <SearchedItem searchName={searchName} deleteByName={deleteByName} />\n      )}\n    </div>\n  );\n};\n\nexport default Main;\n","import React, { useState, useEffect } from \"react\";\nimport Login from \"./components/Login\";\nimport Main from \"./Main.js\";\n\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [auth, setAuth] = useState(false);\n  useEffect(() => {\n    console.log(\"auth\", auth);\n  }, [auth]);\n\n  return (\n    <div className=\"App\">\n      {!auth ? <Login auth={auth} setAuth={setAuth} /> : <Main />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.js\";\n//import { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// import { Router } from \"react-router\";\n// import { createBrowserHistory } from \"history\";\n\n// const history = createBrowserHistory();\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}