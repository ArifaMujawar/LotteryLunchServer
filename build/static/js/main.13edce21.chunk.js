(this.webpackJsonpserver_lottery_lunch=this.webpackJsonpserver_lottery_lunch||[]).push([[0],{39:function(e,t,n){},53:function(e,t,n){e.exports=n(99)},58:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(11),o=n.n(c),s=(n(58),n(10)),l=n(6),u=n(14),i=(n(36),n(37),n(38),n(39),function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),m=Object(s.a)(i,2),d=m[0],p=m[1],f={description:"Login and passwords of users",users:{testUser:{password:"test",type:"test"}}},h=function(t){t.preventDefault(),Object.keys(f.users).filter((function(e){return e===c})).length>0&&f.users[c].password===d?(window.localStorage.setItem("user",JSON.stringify(f.users[c])),console.log("Logged in"),function(){var t=e.auth;e.setAuth(!t),console.log("value ",t)}()):alert("Wrong login or password")};return r.a.createElement("div",{className:"login"},r.a.createElement(u.a,null,r.a.createElement(l.c,{size:"3"},r.a.createElement("form",{onSubmit:h},r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(l.e,{label:"Type your email",icon:"envelope",group:!0,type:"text",validate:!0,error:"wrong",success:"right",getValue:function(e){return o(e)}}),r.a.createElement(l.e,{label:"Type your password",icon:"lock",group:!0,type:"password",validate:!0,getValue:function(e){return p(e)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement(l.b,{type:"submit",onClick:h},"Login"))))))}),m=n(8),d=n.n(m),p=n(15),f=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Lottery Lunch"))},h=function(e){return r.a.createElement("div",{className:"Functionality"},r.a.createElement(l.b,{onClick:function(){return e.generateLottery()}},"Generate lottery"),r.a.createElement(l.b,{onClick:function(){return e.sendEmails()},color:"warning"},"Send Emails"),r.a.createElement(l.b,{onClick:function(){return e.handleSearchByName()},color:"info"},"Search user"),r.a.createElement(l.e,{label:"Add new Interest...",onChange:function(t){var n=t.target;return e.setInterest(n.value)}}),r.a.createElement(l.b,{onClick:function(){return e.handleAddNewInterest()},color:"pink"},"Add new Interest"),r.a.createElement(l.e,{label:"Search by name...",onChange:function(t){var n=t.target;return e.setSearchName(n.value)}}))},g=function(e){var t=e.emails;return r.a.createElement("div",null,r.a.createElement("h3",null,"Generated emails are"),t.map((function(e){return r.a.createElement("div",{className:"emailsContainer"},e.map((function(e){return r.a.createElement("p",{className:"email"},e)})))})))},b=n(18),v=n.n(b),E=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Searched email "),e.searchName&&r.a.createElement(l.b,{onClick:function(){1==window.confirm("Are you sure, you want to remove ".concat(e.searchName,"?"))&&e.deleteByName()},color:"danger"},"Delete User"))},w=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],i=l[1],m=Object(a.useState)(""),b=Object(s.a)(m,2),w=b[0],y=b[1],N=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("button clicked"),e.next=3,v.a.get("".concat("/api","/lunch-pairs"));case 3:t=e.sent,console.log("response from generate lottery ",t),c(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("sendEmails button clicked");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("search button pressed"),e.next=3,v()({method:"get",url:"".concat("/api","/users/:").concat(u),header:{},params:{searchterm:"first_name",value:"".concat(u)}});case 3:t=e.sent,console.log("response from search ",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete btn pressed"),e.next=3,v()({method:"delete",url:"".concat("/api","/users/:").concat(u),header:{},data:{email:"".concat(u)}});case 3:t=e.sent,console.log("res is ",t),t.data.rowCount>0?alert("".concat(u," removed from database!")):alert("".concat(u," does not exist!")),i("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("new interest btn pressed"),!(w.length>0)){e.next=10;break}return t={interest:"".concat(w)},e.next=5,v.a.post("".concat("/api","/interests/"),t);case 5:n=e.sent,console.log("res is ",n),n.data.rowCount>0?alert("".concat(w," added to database!")):alert("".concat(w," not added!")),e.next=11;break;case 10:alert("Cannot insert null interest. Please insert proper interest.");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Main-page"},r.a.createElement(f,null),r.a.createElement(h,{generateLottery:N,sendEmails:k,setSearchName:i,handleSearchByName:O,setInterest:y,handleAddNewInterest:S}),n.length>0&&r.a.createElement(g,{emails:n}),u&&r.a.createElement(E,{searchName:u,deleteByName:j}))},y=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){console.log("auth",n)}),[n]),r.a.createElement("div",{className:"App"},n?r.a.createElement(w,null):r.a.createElement(i,{auth:n,setAuth:c}))};o.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.13edce21.chunk.js.map